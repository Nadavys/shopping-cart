(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{161:function(e,t,a){e.exports=a(396)},390:function(e,t,a){},391:function(e,t,a){},394:function(e,t,a){},395:function(e,t,a){},396:function(e,t,a){"use strict";a.r(t);a(162);var n=a(0),r=a.n(n),c=a(155),l=a.n(c),o=a(160),s=a(37),i=a(38),u=a(40),d=a(39),m=a(41),p=a(30),h=a(78),f=a.n(h),v=function(e,t){switch(t){case"BRL":return e.toFixed(2).replace(".",",");default:return e.toFixed(2)}},E={lowestprice:function(e,t){return e.price<t.price?-1:e.price>t.price?1:0},highestprice:function(e,t){return e.price>t.price?-1:e.price<t.price?1:0}},g=(a(390),function(){return r.a.createElement("div",{className:"spinner lds-ring"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}),y=Object(p.b)(null,{addProduct:function(e){return{type:"ADD_PRODUCT",payload:e}}})(function(e){var t=e.product,a=e.addProduct;t.quantity=1,t.currencyId="USD",t.currencyFormat="$",t.isFreeShipping=!1;var n=v(t.price,t.currencyId);return r.a.createElement("div",{className:"shelf-item",onClick:function(){return a(t)},"data-sku":t.sku},t.isFreeShipping&&r.a.createElement("div",{className:"shelf-stopper"},"Free shipping"),r.a.createElement("p",{className:"shelf-item__title"},t.title),r.a.createElement("p",{className:"shelf-item__title2"},t.description),r.a.createElement("div",{className:"shelf-item__price"},r.a.createElement("div",{className:"val"},r.a.createElement("small",null,t.currencyFormat),r.a.createElement("b",null,n.substr(0,n.length-3)),r.a.createElement("span",null,n.substr(n.length-3,3)))),r.a.createElement("div",{className:"shelf-item__buy-btn"},"Add to cart"))}),b=function(e){return e.products.map(function(e){return r.a.createElement(y,{product:e,key:e.id})})},C=(a(391),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!1},a.handleFetchProducts=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.props.filters,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.props.sort;a.setState({isLoading:!0}),a.props.fetchProducts(e,t,function(){a.setState({isLoading:!1})})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.handleFetchProducts()}},{key:"componentWillReceiveProps",value:function(e){}},{key:"render",value:function(){var e=this.props.products,t=this.state.isLoading;return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(g,null),r.a.createElement("div",{className:"shelf-container"},r.a.createElement(b,{products:e})))}}]),t}(n.Component)),O=Object(p.b)(function(e){return{products:e.shelf.products}},{fetchProducts:function(e,t,a){return function(n){return f.a.get("https://passover2020.s3-us-west-2.amazonaws.com/products.json").then(function(r){var c=r.data.products;return e&&e.length>0&&(c=c.filter(function(t){return e.find(function(e){return t.availableSizes.find(function(t){return t===e})})})),t&&(c=c.sort(E[t])),a&&a(),n({type:"FETCH_PRODUCTS",payload:c})}).catch(function(e){console.log("Could not fetch products. Try again later.")})}}})(C),N=function(e){return function(t){var a=e.reduce(function(e,t){return e+=t.quantity},0),n=e.reduce(function(e,t){return e+=t.price*t.quantity},0);t({type:"UPDATE_CART",payload:{productQuantity:a,installments:e.reduce(function(e,t){return e=t.installments>e?t.installments:e},0),totalPrice:n,currencyId:"USD",currencyFormat:"$"}})}},P=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleMouseOver=function(){a.setState({isMouseOver:!0})},a.handleMouseOut=function(){a.setState({isMouseOver:!1})},a.handleOnIncrease=function(){var e=a.props.changeProductQuantity,t=a.state.product;t.quantity=t.quantity+1,e(t)},a.handleOnDecrease=function(){var e=a.props.changeProductQuantity,t=a.state.product;t.quantity=t.quantity-1,e(t)},a.state={product:a.props.product,isMouseOver:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.removeProduct,a=this.state.product,n=["shelf-item"];return this.state.isMouseOver&&n.push("shelf-item--mouseover"),r.a.createElement("div",{className:n.join(" ")},r.a.createElement("div",{className:"shelf-item__del",onMouseOver:function(){return e.handleMouseOver()},onMouseOut:function(){return e.handleMouseOut()},onClick:function(){return t(a)}}),r.a.createElement("div",{className:"shelf-item__details"},r.a.createElement("p",{className:"title"},a.title),r.a.createElement("p",{className:"desc"},r.a.createElement("br",null),"Quantity: ",a.quantity)),r.a.createElement("div",{className:"shelf-item__price"},r.a.createElement("p",null,"".concat(a.currencyFormat,"  ").concat(v(a.price))),r.a.createElement("div",null,r.a.createElement("button",{onClick:this.handleOnDecrease,disabled:0===a.quantity,className:"change-product-button"},"-"),r.a.createElement("button",{onClick:this.handleOnIncrease,className:"change-product-button"},"+"))))}}]),t}(n.Component),w=a(112),_=a.n(w),j=a(158),T=a(79),k=a(54),S={firstName:"",lastName:"",email:"",phone:"",delivery:"",address:"",city:"",comments:"",synagogue:""},A=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state=S,a.handleChange=a.handleChange.bind(Object(k.a)(Object(k.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(k.a)(Object(k.a)(a))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){console.log("event",e);var t=e.target,a=t.value,n=t.name;this.setState(Object(T.a)({},n,a))}},{key:"handleSubmit",value:function(){var e=Object(j.a)(_.a.mark(function e(t){var a,n,r,c=this;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props.cartProducts.reduce(function(e,t){return t.quantity&&(e[t.id]=t.quantity),e},{}),t.preventDefault(),n=Object.assign(this.state),console.log(">>> customer",n),r={data:{customer:n,products:a}},console.log("request",JSON.stringify(r)),console.log(">>* in progress",this.state.requestInProgress),this.state.requestInProgress){e.next=11;break}return e.next=10,this.setState({requestInProgress:!0});case 10:f.a.post("https://jhl69wbaql.execute-api.us-west-2.amazonaws.com/prod",r).then(function(e){if(console.log(e),console.log(e.data),200===e.data.statusCode){var t=e.data.id;console.log("order id",t),c.clearCart(),c.setState(S),c.props.triggerSuccessModal(t)}else alert("There was a problem with your order. Please verify all necessary fields were filled out, and try again. If the problem persists please contact us."),c.setState({requestInProgress:!1})});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"clearCart",value:function(){var e=this.props,t=e.cartProducts,a=e.updateCart;t.length=0,a([]),console.log("*** userform props",this.props)}},{key:"render",value:function(){return r.a.createElement("div",{className:"wpforms-container-full"},r.a.createElement("form",{className:"wpforms-form",onSubmit:this.handleSubmit},r.a.createElement("input",{name:"firstName",placeholder:"First name",value:this.state.firstName,onChange:this.handleChange,required:!0}),r.a.createElement("input",{name:"lastName",placeholder:"Last name",value:this.state.lastName,onChange:this.handleChange,required:!0}),r.a.createElement("input",{name:"email",type:"email",placeholder:"Email",value:this.state.email,onChange:this.handleChange,required:!0}),r.a.createElement("input",{name:"phone",type:"phone",placeholder:"Phone",value:this.state.phone,onChange:this.handleChange,required:!0}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{className:"radio"},r.a.createElement("input",{type:"radio",name:"delivery",value:"false",onChange:this.handleChange,required:!0}),r.a.createElement("span",{className:"accessible"},"Self Pickup")),r.a.createElement("label",{className:"radio"},r.a.createElement("input",{type:"radio",name:"delivery",value:"true",onChange:this.handleChange,required:!0}),r.a.createElement("span",{className:"accessible"},"Delivery($25)")),r.a.createElement("div",{className:"false"===this.state.delivery?"hidden":""},r.a.createElement("p",null,"Delivery is available for Bay Area locations only"),r.a.createElement("input",{name:"address",placeholder:"Delivery Address",value:this.state.address,onChange:this.handleChange}),r.a.createElement("input",{name:"city",placeholder:"Delivery City",value:this.state.city,onChange:this.handleChange})),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"synagogue"}," Are you a synagogue member? If so, which one: "),r.a.createElement("br",null),r.a.createElement("input",{name:"synagogue",placeholder:"My Synagogue",value:this.state.synagogue,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("textarea",{name:"comments",placeholder:"Comments",onChange:this.handleChange,value:this.state.comments}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Submit Order"})))}}]),t}(r.a.Component),q=Object(p.b)(function(e){return{cartProducts:e.cart.products,cartTotal:e.total.data}},{updateCart:N})(A),F=(a(394),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={isOpen:!1,isFinalCheckout:!1},a.openFloatCart=function(){a.setState({isOpen:!0})},a.closeFloatCart=function(){a.setState({isOpen:!1}),a.setState({isFinalCheckout:!1})},a.addProduct=function(e){var t=a.props,n=t.cartProducts,r=t.updateCart,c=!1;n.forEach(function(t){t.id===e.id&&(t.quantity+=e.quantity,c=!0)}),c||n.push(e),r(n),a.openFloatCart()},a.removeProduct=function(e){var t=a.props,n=t.cartProducts,r=t.updateCart,c=n.findIndex(function(t){return t.id===e.id});c>=0&&(n.splice(c,1),r(n))},a.proceedToCheckout=function(){var e=a.props.cartTotal,t=(e.totalPrice,e.productQuantity);e.currencyFormat,e.currencyId;t?a.setState({isFinalCheckout:!0}):alert("Add some product in the cart!")},a.changeProductQuantity=function(e){var t=a.props,n=t.cartProducts,r=t.updateCart,c=n.find(function(t){return t.id===e.id});c.quantity=e.quantity,c.quantity<=0&&a.removeProduct(c),console.log("-- props",a.props),r(n)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.newProduct!==this.props.newProduct&&this.addProduct(e.newProduct),e.productToRemove!==this.props.productToRemove&&this.removeProduct(e.productToRemove),e.productToChange!==this.props.productToChange&&this.changeProductQuantity(e.productToChange)}},{key:"render",value:function(){var e=this,t=this.props,a=t.cartTotal,n=t.cartProducts,c=t.removeProduct,l=t.changeProductQuantity,o=n.map(function(e){return r.a.createElement(P,{product:e,removeProduct:c,changeProductQuantity:l,key:e.id})}),s=["float-cart"];return this.state.isOpen&&s.push("float-cart--open"),r.a.createElement("div",{className:s.join(" ")},this.state.isOpen&&r.a.createElement("div",{onClick:function(){return e.closeFloatCart()},className:"float-cart__close-btn"},"X"),!this.state.isOpen&&r.a.createElement("span",{onClick:function(){return e.openFloatCart()},className:"bag bag--float-cart-closed"},r.a.createElement("span",{className:"bag__quantity"},a.productQuantity)),r.a.createElement("div",{className:!0===this.state.isFinalCheckout?"hidden":"float-cart__content"},r.a.createElement("div",{className:"float-cart__header"},r.a.createElement("span",{className:"bag"},r.a.createElement("span",{className:"bag__quantity"},a.productQuantity)),r.a.createElement("span",{className:"header-title"},"Cart")),r.a.createElement("div",{className:"float-cart__shelf-container"},o,!o.length&&r.a.createElement("p",{className:"shelf-empty"},"Add some products in the cart ",r.a.createElement("br",null),":)")),r.a.createElement("div",{className:"float-cart__footer"},r.a.createElement("div",{className:"sub"},"SUBTOTAL"),r.a.createElement("div",{className:"sub-price"},r.a.createElement("p",{className:"sub-price__val"},"".concat(a.currencyFormat," ").concat(v(a.totalPrice,a.currencyId)))),r.a.createElement("div",{onClick:function(){return e.proceedToCheckout()},className:"buy-btn"},"Checkout"))),r.a.createElement("div",{className:!1===this.state.isFinalCheckout?"hidden":"float-cart__content"},r.a.createElement("div",{className:"float-cart__header"},r.a.createElement("span",{className:"header-title"},"Customer Details"),r.a.createElement("p",{className:"final-checkout-title"},"An invoice will be sent to your email.",r.a.createElement("br",null)," The order will be finalized after the invoice is paid. If you dont recive an invoice promptly, please contact us."),r.a.createElement(q,{triggerSuccessModal:this.props.triggerSuccessModal}))))}}]),t}(n.Component)),D=Object(p.b)(function(e){return{cartProducts:e.cart.products,newProduct:e.cart.productToAdd,productToRemove:e.cart.productToRemove,productToChange:e.cart.productToChange,cartTotal:e.total.data}},{loadCart:function(e){return{type:"LOAD_CART",payload:e}},updateCart:N,removeProduct:function(e){return{type:"REMOVE_PRODUCT",payload:e}},changeProductQuantity:function(e){return{type:"CHANGE_PRODUCT_QUANTITY",payload:e}}})(F),I=function(){var e=Object(n.useState)({showModal:!1,orderId:""}),t=Object(o.a)(e,2),a=t[0],c=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mainheader"},r.a.createElement("div",{className:"center"},r.a.createElement("h1",null,"Bishulim SF 2020 Passover Order Menu"),r.a.createElement("h2",null,"Contact us for inquries at ",r.a.createElement("a",{href:"mailto:bishulimsf@gmail.com"},"bishulimsf@gmail.com")," ",r.a.createElement("a",{href:"tel:415-881-0843"},"415-881-0843")," "),r.a.createElement("div",{className:"sidebar-main"},r.a.createElement("ul",null,r.a.createElement("li",null,"All kosher Ingredients (no kitniyot - legumes). "),r.a.createElement("li",null,"The meal will be cooked at Temple Beth Abraham\u2019s kosher for Passover kitchen."),r.a.createElement("li",null,"Portions are per person"),r.a.createElement("li",null,"Delivery available for Bay Area locations. $25 per delivery."),r.a.createElement("li",null,"Delivery on April 8th"),r.a.createElement("li",null,"Pick up on April 8th from Temple Beth Abraham in Oakland "),r.a.createElement("li",null,"Orders must be placed before April 1st."),r.a.createElement("li",null,"Part of proceeds will be donated to Temple Beth Abraham "),r.a.createElement("li",null,"Prices include taxes and fees"),r.a.createElement("li",null,"(V)=Vegetarian (VE)=Vegan (GF)=Gluten Free"),r.a.createElement("li",null,r.a.createElement("b",null,"The menu is subject to change due to avialablity of Ingredients")))))),r.a.createElement("main",null,r.a.createElement(O,null)),r.a.createElement(D,{triggerSuccessModal:function(e){c({showModal:!0,orderId:e})}}),function(){if(console.log("showSuccessModal",arguments),a.showModal)return e={orderId:a.orderId},r.a.createElement("div",{className:"hover_bkgr_fricc"},r.a.createElement("span",{className:"helper"}),r.a.createElement("div",null,r.a.createElement("div",{className:"popupCloseButton",onClick:function(){console.log("restart!"),window.location="/"}},"\xd7"),r.a.createElement("h2",null,"Your order request was sent."),r.a.createElement("p",null," A payment request will be sent to your email promptly."),r.a.createElement("p",null," Your order id is: ",r.a.createElement("b",null,e.orderId))));var e}(),r.a.createElement("footer",null,r.a.createElement("div",{className:"copyright"},r.a.createElement("p",null,"\xa9 2020 - Bishulimsf")),r.a.createElement("div",{className:"social"},r.a.createElement("a",{href:"https://www.bishulimsf.com/",className:"support",target:"_blank"},"Bishulimsf.com"),r.a.createElement("a",{href:"https://www.facebook.com/bishulimsf/",className:"face",target:"_blank"},r.a.createElement("span",{className:"fa fa-facebook"})),r.a.createElement("a",{href:"https://www.instagram.com/bishulim_sf/",className:"instagram",target:"_blank"},r.a.createElement("span",{className:"fa fa-instagram"})))))};var M=a(42),R=a(159),U=a(33),Q={products:[]},B={products:[]},x={data:{productQuantity:0,installments:0,totalPrice:0,currencyId:"USD",currencyFormat:"$"}},L=Object(M.c)({shelf:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PRODUCTS":return Object(U.a)({},e,{products:t.payload});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_CART":return Object(U.a)({},e,{products:t.payload});case"ADD_PRODUCT":return Object(U.a)({},e,{productToAdd:Object.assign({},t.payload)});case"REMOVE_PRODUCT":return Object(U.a)({},e,{productToRemove:Object.assign({},t.payload)});case"CHANGE_PRODUCT_QUANTITY":return Object(U.a)({},e,{productToChange:Object.assign({},t.payload)});default:return e}},total:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_CART":return Object(U.a)({},e,{data:t.payload});default:return e}}}),V=function(e){e=JSON.parse(window.localStorage.getItem("state"))||e;var t=[R.a],a=Object(M.e)(L,e,Object(M.d)(M.a.apply(void 0,t)));return a.subscribe(function(){var e=a.getState(),t={cart:e.cart,total:e.total};window.localStorage.setItem("state",JSON.stringify(t))}),a},J=function(e){var t=e.children,a=e.initialState,n=void 0===a?{}:a;return r.a.createElement(p.a,{store:V(n)},t)};a(395);l.a.render(r.a.createElement(J,null,r.a.createElement(I,null)),document.getElementById("root"))}},[[161,1,2]]]);
//# sourceMappingURL=main.68e468da.chunk.js.map